"use strict";(self.webpackChunkloopback_blog=self.webpackChunkloopback_blog||[]).push([[4228],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>m});var a=o(7294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,a,n=function(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var s=a.createContext({}),p=function(e){var t=a.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(o),h=n,m=d["".concat(s,".").concat(h)]||d[h]||u[h]||r;return o?a.createElement(m,i(i({ref:t},c),{},{components:o})):a.createElement(m,i({ref:t},c))}));function m(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=o.length,i=new Array(r);i[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:n,i[1]=l;for(var p=2;p<r;p++)i[p]=o[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,o)}h.displayName="MDXCreateElement"},4355:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var a=o(7462),n=(o(7294),o(3905));const r={title:"LoopBack 4 October 2019 Milestone Update",date:new Date("2019-11-06T00:00:00.000Z"),authors:"emonddr",slug:"october-2019-milestone",tags:["Milestone update"]},i=void 0,l={permalink:"/blog/october-2019-milestone",editUrl:"https://github.com/loopbackio/loopback-blog/blog/2019/2019-11-06-october-milestone.md",source:"@site/blog/2019/2019-11-06-october-milestone.md",title:"LoopBack 4 October 2019 Milestone Update",description:"Originally published on strongloop.com",date:"2019-11-06T00:00:00.000Z",formattedDate:"November 6, 2019",tags:[{label:"Milestone update",permalink:"/blog/tags/milestone-update"}],readingTime:6.405,hasTruncateMarker:!0,authors:[{name:"Dominique Emond",title:"LoopBack Maintainer",url:"https://github.com/emonddr",imageURL:"https://avatars0.githubusercontent.com/u/6864736",key:"emonddr"}],frontMatter:{title:"LoopBack 4 October 2019 Milestone Update",date:"2019-11-06T00:00:00.000Z",authors:"emonddr",slug:"october-2019-milestone",tags:["Milestone update"]},prevItem:{title:"CASCONxEVOKE Conference Recap for LoopBack",permalink:"/blog/cascon-evoke-2019"},nextItem:{title:"LoopBack 4 Offers Inclusion of Related Models",permalink:"/blog/inclusion-of-related-models"}},s={authorsImageUrls:[void 0]},p=[{value:"Inclusion of Related Models",id:"inclusion-of-related-models",level:2},{value:"Adding Partitioned Database Support for Cloudant and CouchDB connector",id:"adding-partitioned-database-support-for-cloudant-and-couchdb-connector",level:2},{value:"Spike",id:"spike",level:3},{value:"Updating Driver",id:"updating-driver",level:3},{value:"Spike on Migration Guide",id:"spike-on-migration-guide",level:2},{value:"Improvements to Shopping Cart Example",id:"improvements-to-shopping-cart-example",level:2},{value:"CASCON x Evoke 2019 Workshop Preparation",id:"cascon-x-evoke-2019-workshop-preparation",level:2},{value:"Repository Tests for PostgreSQL",id:"repository-tests-for-postgresql",level:2},{value:"Generating Controller/Repository from a Model",id:"generating-controllerrepository-from-a-model",level:2},{value:"Documentation Improvements",id:"documentation-improvements",level:2},{value:"New &#39;Inside a LoopBack Application&#39; Section Added to Docs",id:"new-inside-a-loopback-application-section-added-to-docs",level:3},{value:"Customize Id and Foreign Key Names for Relations",id:"customize-id-and-foreign-key-names-for-relations",level:3},{value:"Bug Fixes / CI Fixes",id:"bug-fixes--ci-fixes",level:2},{value:"Looking for User References",id:"looking-for-user-references",level:2},{value:"What&#39;s Next?",id:"whats-next",level:2},{value:"Call to Action",id:"call-to-action",level:2}],c={toc:p},d="wrapper";function u(e){let{components:t,...o}=e;return(0,n.kt)(d,(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Originally published on ",(0,n.kt)("a",{parentName:"em",href:"https://strongloop.com"},"strongloop.com"))),(0,n.kt)("p",null,"As the cold autumn winds and frost nipped at our heels, the LoopBack team kept warm with generous portions of hot tea and coffee and accomplished their planned October milestone goals."),(0,n.kt)("p",null,"We focused on the following areas:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Inclusion of related models"),(0,n.kt)("li",{parentName:"ul"},"Adding Partitioned Database Support for Cloudant and CouchDB connector"),(0,n.kt)("li",{parentName:"ul"},"Spike on Migration Guide"),(0,n.kt)("li",{parentName:"ul"},"Improvements to Shopping Cart Example"),(0,n.kt)("li",{parentName:"ul"},"CASCON x Evoke 2019 Workshop Preparation"),(0,n.kt)("li",{parentName:"ul"},"Repository Tests for PostgreSQL"),(0,n.kt)("li",{parentName:"ul"},"Generating Controller/Repository from a Model"),(0,n.kt)("li",{parentName:"ul"},"Documentation Improvements"),(0,n.kt)("li",{parentName:"ul"},"Bug fixes / CI fixes")),(0,n.kt)("p",null,"See the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/issues/3801"},"October milestone")," for an overview of what we have worked on, and read on for more details."),(0,n.kt)("p",null,"Also, we were honored this month when ",(0,n.kt)("a",{parentName:"p",href:"https://apiworld.co/"},"API World")," awarded LoopBack with the ",(0,n.kt)("inlineCode",{parentName:"p"},"2019 Best of API Middleware Award"),". Raymond Feng was there to ",(0,n.kt)("a",{parentName:"p",href:"https://twitter.com/cyberfeng/status/1181943111531909120"},"accept the award")," on behalf of the team. Yay, team!"),(0,n.kt)("h2",{id:"inclusion-of-related-models"},"Inclusion of Related Models"),(0,n.kt)("p",null,"We've been working on inclusion resolvers for relations for the past several months. Besides the basic functionality, we also added a prompt for activating the inclusion resolver for the ",(0,n.kt)("inlineCode",{parentName:"p"},"lb4 relation")," command in ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/pull/3856"},"PR #3856"),". This allows users to easily set up the inclusion resolver through the CLI just like all others artifacts."),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"lb4 relation")," command now ",(0,n.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/Relation-generator.html#arguments"},"prompts to confirm")," if an inclusion resolver should be registered for the given relation."),(0,n.kt)("p",null,"Also, we posted ",(0,n.kt)("a",{parentName:"p",href:"https://strongloop.com/strongblog/inclusion-of-related-models/"},"a blog")," to illustrate the idea and usage of the inclusion resolver. We have a full example from setting up the models and relations through CLI, to querying data with the inclusion resolver. Read the blog to try out the feature!"),(0,n.kt)("p",null,"We've gotten feedback from the community since this feature was published. As a result, we've improved the documentation. Diagrams were added to each relation to make the concept more intuitive. We also added URLs as examples to query related models in case users want to process data at the controller level instead of the repository level. See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/pull/4007"},"PR #4007")," for more details."),(0,n.kt)("h2",{id:"adding-partitioned-database-support-for-cloudant-and-couchdb-connector"},"Adding Partitioned Database Support for Cloudant and CouchDB connector"),(0,n.kt)("h3",{id:"spike"},"Spike"),(0,n.kt)("p",null,"Both Cloudant and CouchDB support partitioned databases which make querying less expensive - computationally in CouchDB, monetarily on Cloudant (on ",(0,n.kt)("inlineCode",{parentName:"p"},"IBM Cloud"),")."),(0,n.kt)("p",null,"A ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-connector-cloudant/issues/214"},"spike")," was performed to investigate the work required to support the partitioned database in Cloudant, and follow-up tasks were created. ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-connector-cloudant/issues/219"},"Epic #219 - Add support for partitioned database")," was created to track the implementation stories."),(0,n.kt)("p",null,"The feature will be supported in 3 stages. In the first stage, we will update the driver and enable creating the partitioned index; which are the pre-requisites for the partitioned search. The second stage includes supporting the query with partition key from the options data or the payload data; the latter one requires a model property defined as the partition key field. Stage 3 contains more improvements for the document creation in the partitioned database by supporting a composed ID."),(0,n.kt)("h3",{id:"updating-driver"},"Updating Driver"),(0,n.kt)("p",null,"To start ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-connector-cloudant/issues/219"},"Epic #219"),", we updated the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/cloudant/nodejs-cloudant"},"cloudant driver")," and the ",(0,n.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/ibmcom/couchdb3"},"docker image")," to the latest ones which support the partition feature."),(0,n.kt)("h2",{id:"spike-on-migration-guide"},"Spike on Migration Guide"),(0,n.kt)("p",null,"A spike was performed on migrating from LoopBack 3 to LoopBack 4. As a result, we created the outline of a ",(0,n.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/migration-overview.html"},"migration guide"),"."),(0,n.kt)("h2",{id:"improvements-to-shopping-cart-example"},"Improvements to Shopping Cart Example"),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback4-example-shopping"},"shopping cart application")," has undergone a few improvements."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"We have added an out-of-the-box capability to set a JWT token via an ",(0,n.kt)("inlineCode",{parentName:"p"},"Authorize button/dialog")," in the API Explorer. When interacting with the secured endpoint, the token is automatically sent in the ",(0,n.kt)("inlineCode",{parentName:"p"},"Authorization")," header of the request. See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback4-example-shopping/pull/301"},"PR #301")," and ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/pull/3876"},"PR #3876")," for details. To find out how to enable this capability in your application, please see ",(0,n.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/Authentication-Tutorial.html#specifying-the-security-settings-in-the-openapi-specification"},"Specifying the Security Settings in the OpenAPI Specification"),".")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"The shopping cart application has been decomposed into multiple microservices, each of which is packaged as a docker image. It's possible to communicate between microservices using ",(0,n.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Representational_state_transfer"},"REST")," and/or ",(0,n.kt)("a",{parentName:"p",href:"https://grpc.io/"},"gRPC"),". A ",(0,n.kt)("a",{parentName:"p",href:"https://helm.sh/docs/developing_charts/"},"helm chart")," can now be used to deploy these microservices to a Kubernetes cluster on ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/kubernetes/minikube"},"Minikube")," or ",(0,n.kt)("a",{parentName:"p",href:"https://www.ibm.com/cloud"},"IBM Cloud"),". See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback4-example-shopping/blob/master/kubernetes/README.md"},"Deploy the Shopping Application as Cloud-native Microservices using Kubernetes")," for more details.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"The ",(0,n.kt)("inlineCode",{parentName:"p"},"shopping")," service can now connect to the ",(0,n.kt)("inlineCode",{parentName:"p"},"recommender")," service over gRPC as well as REST. See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback4-example-shopping/pull/333"},"PR #333")," for details.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Extra logic was added to ",(0,n.kt)("inlineCode",{parentName:"p"},"*.datasources.ts")," files to accept configuration from kubernetes environment variables. See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback4-example-shopping/pull/338"},"PR #338")," for details."))),(0,n.kt)("h2",{id:"cascon-x-evoke-2019-workshop-preparation"},"CASCON x Evoke 2019 Workshop Preparation"),(0,n.kt)("p",null,"The LoopBack 4 team has prepared material for a booth and workshop at ",(0,n.kt)("a",{parentName:"p",href:"http://www-01.ibm.com/ibm/cas/cascon/"},"CASCON x Evoke 2019")," in Toronto, Canada. We hosted a booth named ",(0,n.kt)("a",{parentName:"p",href:"https://pheedloop.com/cascon/site/sessions/?id=DugCzZ"},"REST APIs with LoopBack 4 and OpenAPI 3")," on November 4th and 6th and held a workshop named ",(0,n.kt)("a",{parentName:"p",href:"https://pheedloop.com/cascon/site/sessions/?id=OhNsKW"},"Write scalable and extensible Node.js applications using LoopBack 4")," on November 5th. Watch for an upcoming blog post with an overview of the event!"),(0,n.kt)("h2",{id:"repository-tests-for-postgresql"},"Repository Tests for PostgreSQL"),(0,n.kt)("p",null,"Previously, we ran repository tests against the memory, MySQL, and MongoDB databases. This month, we added PostgreSQL to the databases these tests are run against. You can see ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/pull/3853"},"PR #3853")," for details or take a look at the newly added ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/tree/master/acceptance/repository-postgresql"},(0,n.kt)("inlineCode",{parentName:"a"},"repository-postgresql")," package"),"."),(0,n.kt)("h2",{id:"generating-controllerrepository-from-a-model"},"Generating Controller/Repository from a Model"),(0,n.kt)("p",null,"Some progress was made on the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/issues/2036"},"EPIC #2036 - From model definition to REST API with no custom repository/controller classes"),". A controller can now be generated based on a model name. See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/pull/3842"},"PR #3842")," for details. Also, a repository can now be generated based on a model name. See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/pull/3867"},"PR #3867")," for details."),(0,n.kt)("h2",{id:"documentation-improvements"},"Documentation Improvements"),(0,n.kt)("h3",{id:"new-inside-a-loopback-application-section-added-to-docs"},"New 'Inside a LoopBack Application' Section Added to Docs"),(0,n.kt)("p",null,"We're always seeking to improve our documentation. We've added a new section ",(0,n.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/Inside-LoopBack-Application.html"},"Inside a Loopback Application")," to help LoopBack 4 application developers to establish a high level understanding of how LoopBack 4 is related to their application requirements."),(0,n.kt)("h3",{id:"customize-id-and-foreign-key-names-for-relations"},"Customize Id and Foreign Key Names for Relations"),(0,n.kt)("p",null,"After triaging some issues from the community, we realized that the documentation for customizing key names needs to be enhanced. We added explanations and examples to illustrate the default value of relations, how to customize key names, and how to use different names for models and database columns. You can find more details in ",(0,n.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/HasMany-relation.html#relation-metadata"},"HasMany - Relation Metadata"),", ",(0,n.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/hasOne-relation.html#relation-metadata"},"HasOne - Relation Metadata"),", and ",(0,n.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/BelongsTo-relation.html#defining-a-belongsto-relation"},"Defining a belongsTo Relation"),"."),(0,n.kt)("h2",{id:"bug-fixes--ci-fixes"},"Bug Fixes / CI Fixes"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Fixed ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback/issues/4252"},"Issue #4252 - Fix CI builds (Karma + PhantomJS)")," by reworking browser tests to run in Headless Chrome instead of PhantomJS, because the latter is no longer maintained. See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback/pull/4262"},"PR #4262")," for details.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Fixed ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback/issues/3717"},"Issue #3717 - PersistedModel's updateAll method crashes the server when invoked via the remote connector")," by properly handling anonymous object types when ",(0,n.kt)("inlineCode",{parentName:"p"},"PersistedModel.updateAll")," is called. See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/strong-remoting/pull/472"},"PR #472")," for details.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Fixed ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/issues/3878"},"Issue #3878 - lifeCycleObserver is not working with express composition"),". See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/pull/3879"},"PR #3879")," and ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/pull/3891"},"PR #3891")," for details.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Fixed ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/issues/3706"},"Issue #3706 - Unable to POST on endpoint with recursive model"),". See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/pull/3897"},"PR #3897")," for details.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Fixed ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/issues/3296"},"Issue #3296 - Model discovery not working with Oracle connector & CDB instance")," by only calling back once the connection is released. See ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-connector-oracle/pull/193"},"PR #193")," for details."))),(0,n.kt)("h2",{id:"looking-for-user-references"},"Looking for User References"),(0,n.kt)("p",null,"As a LoopBack user, do you want your company highlighted on our ",(0,n.kt)("a",{parentName:"p",href:"https://loopback.io/"},"web site"),"? If your answer is yes, see the details in this ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/issues/3047"},"GitHub issue"),"."),(0,n.kt)("h2",{id:"whats-next"},"What's Next?"),(0,n.kt)("p",null,"If you're interested in what we're working on next, you can check out the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/issues/4029"},"November Milestone"),"."),(0,n.kt)("h2",{id:"call-to-action"},"Call to Action"),(0,n.kt)("p",null,"LoopBack's success depends on you. We appreciate your continuous support and engagement to make LoopBack even better and meaningful for your API creation experience. Here's how you can join us and help the project:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next/issues"},"Report issues"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next/blob/master/docs/CONTRIBUTING.md"},"Contribute")," code and documentation."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next/labels/good%20first%20issue"},'Open a pull request on one of our "good first issues"'),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next/issues/110"},"Join")," our user group.")))}u.isMDXComponent=!0}}]);